# Smart Door Control

Система умного дверного звонка с видеонаблюдением и биометрической аутентификацией для управления доступом.

## Описание проекта

Smart Door Control - это IoT-решение для автоматизации контроля доступа, состоящее из серверной части на Raspberry Pi и мобильного Android-приложения. Система позволяет получать уведомления о посетителях, просматривать их фотографии в реальном времени и удаленно открывать дверь с биометрической защитой.

## Реализованный функционал

### Backend (Python + FastAPI)
- **REST API сервер** на FastAPI с асинхронной обработкой запросов
- **База данных** для хранения истории посещений (SQLAlchemy + AsyncIO)
- **Интеграция с камерой** Raspberry Pi для фотографирования посетителей
- **Управление дверным замком** через GPIO пины Raspberry Pi
- **Облачное хранилище** фотографий с использованием S3-совместимого сервиса (MinIO)
- **Аутентификация** через API ключи для защищенных операций
- **CORS middleware** для кросс-доменных запросов
- **Логирование** всех операций системы

**Основные эндпоинты:**
- `POST /doorbell/ring` - обработка звонка в дверь с фотографированием
- `POST /doorbell/unlock` - открытие двери (защищено)
- `GET /doorbell/history` - получение истории посещений
- `GET /doorbell/visit/{id}/photo` - получение фотографии посетителя

### Frontend (Android + Java)
- **Главный экран** с кнопками управления дверным звонком
- **Биометрическая аутентификация** (отпечаток пальца) для открытия двери
- **Отображение фото посетителя** в реальном времени при звонке
- **История посещений** с RecyclerView и адаптером для списка
- **Асинхронные HTTP-запросы** к серверу через OkHttp
- **Загрузка изображений** с использованием библиотеки Glide
- **Material Design** интерфейс с CardView и ProgressBar
- **Обработка ошибок** и уведомления пользователя через Toast

**Основные экраны:**
- MainActivity - управление звонком и разблокировкой
- VisitHistoryActivity - просмотр истории посещений


## Технологический стек

### Backend
- **Язык:** Python 3.11+
- **Фреймворк:** FastAPI
- **База данных:** SQLite с SQLAlchemy (async)
- **Хранилище:** S3 (MinIO)
- **Оборудование:** Raspberry Pi, Pi Camera, GPIO

### Frontend
- **Язык:** Java
- **Платформа:** Android SDK
- **Библиотеки:**
  - OkHttp3 - HTTP клиент
  - Glide - загрузка изображений
  - BiometricPrompt - биометрическая аутентификация
  - RecyclerView - списки
  - CardView - Material Design компоненты
- **Инструменты разработки:** Android Studio

## Установка и запуск

### Backend
```bash
cd backend
pip install -r requirements.txt
python run.py
```

### Frontend
1. Откройте проект в Android Studio
2. Настройте BASE_URL в `ApiService.java`
3. Соберите и установите APK на устройство

## Разработчики
1) Юхновец Владимир РИС-22-1б
2) Вахрушева Арина РИС-22-1б
